(this.webpackJsonplab2=this.webpackJsonplab2||[]).push([[0],{16:function(e,t,a){"use strict";a.r(t);var s,n=a(1),c=a.n(n),r=a(9),i=a.n(r),l=(a(8),a(2)),d=a(3),o=a.n(d),u=a(4),j=a(5),b=a(7),m=a(0),f=!0,h=!1,v=function(e){var t=e.showLoader,a=e.hideLoader,c=Object(n.useState)(!0),r=Object(l.a)(c,2),i=r[0],d=r[1],v=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)(null),r=Object(l.a)(c,2),i=r[0],d=r[1],j=Object(n.useCallback)(function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n,c,r,i,l=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>1&&void 0!==l[1]?l[1]:"GET",n=l.length>2&&void 0!==l[2]?l[2]:null,c=l.length>3&&void 0!==l[3]?l[3]:{},e.prev=3,s(!0),n&&(n=JSON.stringify(n),c["Content-Type"]="application/json"),e.next=8,fetch(t,{method:a,body:n,headers:c});case 8:return r=e.sent,e.next=11,r.json();case 11:if(i=e.sent,401!==r.status){e.next=15;break}throw console.log("No authorization"),new Error("No authorization");case 15:return r.ok||console.log("Something went wrong: "+i.message),s(!1),e.abrupt("return",i);case 20:throw e.prev=20,e.t0=e.catch(3),s(!1),d(e.t0),e.t0;case 25:case"end":return e.stop()}}),e,null,[[3,20]])})));return function(t){return e.apply(this,arguments)}}(),[]);return{loading:a,request:j,error:i,cleanErrors:Object(n.useCallback)((function(){return d(null)}),[])}}(),O=v.loading,x=v.request,N=v.cleanErrors,p=Object(n.useState)({firstName:"",lastName:"",subject:"",message:""}),g=Object(l.a)(p,2),k=g[0],y=g[1];Object(n.useEffect)((function(){O?t():a()}),[O]);var w=function(e,t){y((function(a){return Object(b.a)(Object(b.a)({},a),{},Object(j.a)({},e,t))}))};Object(n.useEffect)((function(){f&&(f=!1,(s=document.querySelector(".needs-validation")).addEventListener("change",(function(e){}),!1))}),[]),Object(n.useEffect)((function(){h&&(s.checkValidity()?d(!0):d(!1))}));var S=function(){var e=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),h=!0,s.checkValidity()){e.next=5;break}return s.classList.add("was-validated"),e.abrupt("return");case 5:return e.prev=5,e.next=8,x("https://afternoon-shore-72034.herokuapp.com/api/send-mail","POST",{firstName:k.firstName,lastName:k.lastName,subject:k.subject,message:k.message});case 8:a=e.sent,alert(a.message),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),N();case 15:return e.prev=15,h=!1,e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[5,12,15,18]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)("div",{className:"container mt-2",children:Object(m.jsxs)("form",{className:"row g-3 needs-validation",noValidate:!0,children:[Object(m.jsxs)("div",{className:"md",children:[Object(m.jsx)("label",{htmlFor:"firstName",className:"form-label",children:"First name"}),Object(m.jsx)("input",{type:"text",className:"form-control",id:"firstName",value:k.firstName,onChange:function(e){return w("firstName",e.target.value)},required:!0}),Object(m.jsx)("div",{className:"valid-feedback",children:"Validated!"}),Object(m.jsx)("div",{className:"invalid-feedback",children:"Invalid!"})]}),Object(m.jsxs)("div",{className:"md",children:[Object(m.jsx)("label",{htmlFor:"lastName",className:"form-label",children:"Last name"}),Object(m.jsx)("input",{type:"text",className:"form-control",id:"lastName",value:k.lastName,onChange:function(e){return w("lastName",e.target.value)},required:!0}),Object(m.jsx)("div",{className:"valid-feedback",children:"Validated!"}),Object(m.jsx)("div",{className:"invalid-feedback",children:"Invalid!"})]}),Object(m.jsxs)("div",{className:"md",children:[Object(m.jsx)("label",{htmlFor:"subject",className:"form-label",children:"Subject"}),Object(m.jsx)("input",{type:"text",className:"form-control",id:"subject",value:k.subject,onChange:function(e){return w("subject",e.target.value)},required:!0}),Object(m.jsx)("div",{className:"valid-feedback",children:"Validated!"}),Object(m.jsx)("div",{className:"invalid-feedback",children:"Invalid!"})]}),Object(m.jsxs)("div",{className:"md",children:[Object(m.jsx)("label",{htmlFor:"message",className:"form-label",children:"Email message"}),Object(m.jsx)("input",{type:"text",className:"form-control",id:"message",value:k.message,onChange:function(e){return w("message",e.target.value)},required:!0}),Object(m.jsx)("div",{className:"valid-feedback",children:"Validated!"}),Object(m.jsx)("div",{className:"invalid-feedback",children:"Invalid!"})]}),Object(m.jsx)("div",{className:"col-12",children:Object(m.jsx)("button",{className:"btn btn-primary",type:"button",onClick:S,disabled:O||!i&&h,children:"Submit form"})})]})})},O=function(){return Object(m.jsx)("div",{className:"loader",children:Object(m.jsx)("div",{className:"spinner-border text-primary",role:"status",children:Object(m.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})},x=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],s=t[1];return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"container mt-2",children:Object(m.jsx)("h2",{className:"text-center",children:"Fill send email form"})}),Object(m.jsx)(v,{showLoader:function(){s(!0)},hideLoader:function(){s(!1)}}),a&&Object(m.jsx)(O,{})]})};i.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(x,{})}),document.getElementById("root"))},8:function(e,t,a){}},[[16,1,2]]]);
//# sourceMappingURL=main.22c1f1b6.chunk.js.map