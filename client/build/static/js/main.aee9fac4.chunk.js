(this.webpackJsonplab2=this.webpackJsonplab2||[]).push([[0],{20:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),c=a(3),r=a.n(c),i=(a(9),a(2)),l=a(4),o=a.n(l),d=a(5),u=a(6),j=a(7),b="https://afternoon-shore-72034.herokuapp.com/api/send-mail",m=a(0),h=!0,f=!1,O=function(e){var t=e.showLoader,a=e.hideLoader,n=e.showMessage,c=e.hideMessage,r=Object(s.useState)(!0),l=Object(i.a)(r,2),O=l[0],v=l[1],x=function(){var e=Object(s.useState)(!1),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(null),r=Object(i.a)(c,2),l=r[0],u=r[1],j=Object(s.useCallback)(function(){var e=Object(d.a)(o.a.mark((function e(t){var a,s,c,r,i,l=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>1&&void 0!==l[1]?l[1]:"GET",s=l.length>2&&void 0!==l[2]?l[2]:null,c=l.length>3&&void 0!==l[3]?l[3]:{},e.prev=3,n(!0),s&&(s=JSON.stringify(s),c["Content-Type"]="application/json"),e.next=8,fetch(t,{method:a,body:s,headers:c});case 8:return r=e.sent,e.next=11,r.json();case 11:if(i=e.sent,401!==r.status){e.next=15;break}throw console.log("No authorization"),new Error("No authorization");case 15:return r.ok||console.log("Something went wrong: "+i.message),n(!1),e.abrupt("return",i);case 20:throw e.prev=20,e.t0=e.catch(3),n(!1),u(e.t0),e.t0;case 25:case"end":return e.stop()}}),e,null,[[3,20]])})));return function(t){return e.apply(this,arguments)}}(),[]);return{loading:a,request:j,error:l,cleanErrors:Object(s.useCallback)((function(){return u(null)}),[])}}(),p=x.loading,g=x.request,N=x.cleanErrors,y=Object(s.useRef)(null),k=Object(s.useState)({firstName:"",lastName:"",subject:"",message:""}),w=Object(i.a)(k,2),S=w[0],E=w[1];Object(s.useEffect)((function(){p?t():a()}),[p]);var C=function(e,t){E((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(u.a)({},e,t))}))};Object(s.useEffect)((function(){h&&(h=!1)}),[]),Object(s.useEffect)((function(){f&&v(y.current.checkValidity())}));var L=function(){var e=Object(d.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),f=!0,y.current.checkValidity()){e.next=5;break}return y.current.classList.add("was-validated"),e.abrupt("return");case 5:return e.prev=5,e.next=8,g(b,"POST",Object(j.a)({},S));case 8:a=e.sent,n({message:a.message,type:"success"}),setTimeout(c,3e3),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(5),n({message:e.t0.message,type:"danger"}),setTimeout(c,3e3),N();case 18:return e.prev=18,f=!1,e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[5,13,18,21]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)("div",{className:"container mt-2",children:Object(m.jsxs)("form",{className:"row g-3 needs-validation",noValidate:!0,ref:y,children:[Object(m.jsxs)("div",{className:"md",children:[Object(m.jsx)("label",{htmlFor:"firstName",className:"form-label",children:"First name"}),Object(m.jsx)("input",{type:"text",className:"form-control",id:"firstName",value:S.firstName,onChange:function(e){return C("firstName",e.target.value)},required:!0}),Object(m.jsx)("div",{className:"valid-feedback",children:"Validated!"}),Object(m.jsx)("div",{className:"invalid-feedback",children:"Invalid!"})]}),Object(m.jsxs)("div",{className:"md",children:[Object(m.jsx)("label",{htmlFor:"lastName",className:"form-label",children:"Last name"}),Object(m.jsx)("input",{type:"text",className:"form-control",id:"lastName",value:S.lastName,onChange:function(e){return C("lastName",e.target.value)},required:!0}),Object(m.jsx)("div",{className:"valid-feedback",children:"Validated!"}),Object(m.jsx)("div",{className:"invalid-feedback",children:"Invalid!"})]}),Object(m.jsxs)("div",{className:"md",children:[Object(m.jsx)("label",{htmlFor:"subject",className:"form-label",children:"Subject"}),Object(m.jsx)("input",{type:"text",className:"form-control",id:"subject",value:S.subject,onChange:function(e){return C("subject",e.target.value)},required:!0}),Object(m.jsx)("div",{className:"valid-feedback",children:"Validated!"}),Object(m.jsx)("div",{className:"invalid-feedback",children:"Invalid!"})]}),Object(m.jsxs)("div",{className:"md",children:[Object(m.jsx)("label",{htmlFor:"message",className:"form-label",children:"Email message"}),Object(m.jsx)("input",{type:"text",className:"form-control",id:"message",value:S.message,onChange:function(e){return C("message",e.target.value)},required:!0}),Object(m.jsx)("div",{className:"valid-feedback",children:"Validated!"}),Object(m.jsx)("div",{className:"invalid-feedback",children:"Invalid!"})]}),Object(m.jsx)("div",{className:"col-12",children:Object(m.jsx)("button",{className:"btn btn-primary",type:"button",onClick:L,disabled:p||!O&&f,children:"Submit form"})})]})})},v=function(){return Object(m.jsx)("div",{className:"loader",children:Object(m.jsx)("div",{className:"spinner-border text-primary",role:"status",children:Object(m.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})},x=a(22),p=function(e){var t=e.type,a=e.message,s=e.hideMessage,n="alert-dismissible message fade show alert alert-"+t;return Object(m.jsx)(x.a,{in:t.length>0,timeout:400,classNames:"message",mountOnEnter:!0,unmountOnExit:!0,children:Object(m.jsxs)("div",{className:n,role:"alert",children:[Object(m.jsx)("strong",{children:"Attention!! "}),a,Object(m.jsx)("button",{className:"btn-close","data-bs-dismiss":"alert","aria-label":"Close",onClick:function(){return s()}})]})})},g=function(){var e=Object(s.useState)(!1),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)({message:"",type:""}),r=Object(i.a)(c,2),l=r[0],o=r[1],d=function(){o({message:"",type:""})};return Object(m.jsxs)("div",{children:[Object(m.jsx)(p,{type:l.type,message:l.message,hideMessage:d}),Object(m.jsx)("div",{className:"container mt-2",children:Object(m.jsx)("h2",{className:"text-center",children:"Fill send email form"})}),Object(m.jsx)(O,{showLoader:function(){n(!0)},hideLoader:function(){n(!1)},showMessage:function(e){var t=e.type,a=e.message;o({type:t,message:a})},hideMessage:d}),a&&Object(m.jsx)(v,{})]})};r.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(g,{})}),document.getElementById("root"))},9:function(e,t,a){}},[[20,1,2]]]);
//# sourceMappingURL=main.aee9fac4.chunk.js.map